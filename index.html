<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste de Présence</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            margin-top: 30px;
        }
        .table {
            margin-bottom: 30px;
        }
        .table thead th {
            background-color: #007bff;
            color: #ffffff;
        }
        .table tbody tr:nth-child(odd) {
            background-color: #f2f2f2;
        }
        .table tbody tr:hover {
            background-color: #e9ecef;
        }
        .btn-container {
            text-align: center;
            margin-bottom: 20px;
        }
        .btn {
            margin: 0 10px;
        }
        .back-link {
            text-align: right;
            margin-right: 20px;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 class="text-center mb-4">Liste de Présence</h1>

        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>N</th>
                    <th>Nom et Prénoms</th>
                    <th>Branche</th>
                    <th>Numéro</th>
                    <th>État</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>01</td>
                    <td>Jean Dupont</td>
                    <td>Développement Web</td>
                    <td>01 23 45 67 89</td>
                    <td id="present1"></td>
                    <td id="date1"></td>
                </tr>
                <tr>
                    <td>02</td>
                    <td>Marie Curie</td>
                    <td>Programmation Mobile</td>
                    <td>98 76 54 32 10</td>
                    <td id="present2"></td>
                    <td id="date2"></td>
                </tr>
                <tr>
                    <td>03</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present3"></td>
                    <td id="date3"></td>
                </tr>
                <tr>
                    <td>04</td>
                    <td>Lucie Bernard</td>
                    <td>Programmation Web</td>
                    <td>87 65 43 21 09</td>
                    <td id="present4"></td>
                    <td id="date4"></td>
                </tr>
                <tr>
                    <td>05</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present5"></td>
                    <td id="date5"></td>
                </tr>
                <tr>
                    <td>06</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present6"></td>
                    <td id="date6"></td>
                </tr>
                <tr>
                    <td>07</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present7"></td>
                    <td id="date7"></td>
                </tr>
                <tr>
                    <td>08</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present8"></td>
                    <td id="date8"></td>
                </tr>
                <tr>
                    <td>09</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present9"></td>
                    <td id="date9"></td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Paul Martin</td>
                    <td>Développement Web</td>
                    <td>12 34 56 78 90</td>
                    <td id="present10"></td>
                    <td id="date10"></td>
                </tr>
            </tbody>
        </table>

        <div class="back-link">
      

        <div class="btn-container">
            <button onclick="present()" class="btn btn-primary">Présent</button>
            <button onclick="absent()" class="btn btn-danger">Absent</button>
            <button onclick="Retard()" class="btn btn-secondary">Retard</button>
        </div>
    </div>

    <script>
        // Initialisation des données à partir du local storage
        function loadTable() {
            for (let i = 1; i <= 10; i++) {
                const presentCell = document.getElementById(`present${i}`);
                const dateCell = document.getElementById(`date${i}`);

                const state = localStorage.getItem(`student${i}_state`);
                const date = localStorage.getItem(`student${i}_date`);

                if (state) {
                    presentCell.textContent = state;
                }
                if (date) {
                    dateCell.textContent = date;
                }
            }
        }

        // Présent
        function present() {
            var date = prompt("Veuillez entrer la date");
            var numero = Number(prompt("Veuillez choisir le numéro de l'étudiant"));
            var presentCell, dateCell;

            if (numero < 1 || numero > 10) {
                alert("Numéro d'étudiant invalide");
                return;
            }

            presentCell = document.getElementById(`present${numero}`);
            dateCell = document.getElementById(`date${numero}`);

            presentCell.innerHTML = "Présent";
            dateCell.innerHTML = date;

            // Sauvegarde dans le local storage
            localStorage.setItem(`student${numero}_state`, "Présent");
            localStorage.setItem(`student${numero}_date`, date);
        }

        // Absent
        function absent() {
            var date = prompt("Veuillez entrer la date");
            var numero = Number(prompt("Veuillez choisir le numéro de l'étudiant"));
            var absentCell, dateCell;

            if (numero < 1 || numero > 10) {
                alert("Numéro d'étudiant invalide");
                return;
            }

            absentCell = document.getElementById(`present${numero}`);
            dateCell = document.getElementById(`date${numero}`);

            absentCell.innerHTML = "Absent";
            dateCell.innerHTML = date;

            // Sauvegarde dans le local storage
            localStorage.setItem(`student${numero}_state`, "Absent");
            localStorage.setItem(`student${numero}_date`, date);
        }

        // Retard
        function Retard() {
            var date = prompt("Veuillez entrer la date");
            var numero = Number(prompt("Veuillez choisir le numéro de l'étudiant"));
            var retardCell, dateCell;

            if (numero < 1 || numero > 10) {
                alert("Numéro d'étudiant invalide");
                return;
            }

            retardCell = document.getElementById(`present${numero}`);
            dateCell = document.getElementById(`date${numero}`);

            retardCell.innerHTML = "Retard";
            dateCell.innerHTML = date;

            // Sauvegarde dans le local storage
            localStorage.setItem(`student${numero}_state`, "Retard");
            localStorage.setItem(`student${numero}_date`, date);
        }

        // Charger les données lorsque la page est chargée
        window.onload = loadTable;
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>
